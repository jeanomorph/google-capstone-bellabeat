---
title: "Bellabeat: A Case Study (Leaf Tracker)"
author: "Jeanelfe Joy Delfinado"
date: "Jan 12, 2026"
output:
  html_document:
    toc: true
    toc_float: true
    theme: flatly
    css: styles.css
---

<style>
/* TYPOGRAPHY */
h1 { font-size: 26px; }
h2 { font-size: 20px; }
h3 { font-size: 17px; }

/* Global text color */
body,
h1, h2, h3, h4, h5, h6,
a, a:hover, a:focus,
code, pre {
  color: #343434;
}

/* TOC LAYOUT */
.tocify-header,
.tocify-subheader {
  padding-left: 20px !important;
  text-indent: 0 !important;
}

.tocify-subheader .tocify-subheader {
  padding-left: 40px !important;
}

/* TOC COLORS & STATES */
.tocify,
.tocify-item a {
  color: #343434 !important;
}

/* Hover */
.tocify-item a:hover,
.list-group-item:hover {
  background-color: #f6f3e8 !important;
  color: #343434 !important;
}

/* Active TOC item */
.tocify-item.active {
  border-left: 4px solid #343434 !important;
}

.tocify-item.active > a {
  background-color: #f6f3e8 !important;
  color: #343434 !important;
  font-weight: 600;
}

/* Kill Bootstrap blue highlight */
.list-group-item.active,
.list-group-item.active:hover,
.list-group-item.active:focus {
  background-color: #f6f3e8 !important;
  color: #343434 !important;
  border-color: #343434 !important;
}
</style>


<div style="height:10px;"></div>

# The Business Task
Bellabeat wants to understand how users of other smart devices engage with activity, sleep, and wellness features so they can identify which behaviors are most relevant to Bellabeat customers. This analysis will help Bellabeat decide which user habits to highlight, support, or target in their marketing strategy for the Leaf.

<div style="height:10px;"></div>

# The Data
The data utilized is the FitBit Fitness Tracker Data from Kaggle. It is important to note the limitations: the dataset originates from 2016 and includes only 30 participants who consented to the study.

Since the Leaf product tracks activity, sleep, and stress, this case study focuses on daily movement and sleep patterns.

<div style="height:3px;"></div>

## Data Credibility & Integrity (ROCCC Analysis)
* **Reliability:** Low. The sample size is small (30-33 users) and demographic information (like gender) is missing.
* **Originality:** Low. This is third-party data collected via Amazon Mechanical Turk.
* **Comprehensiveness:** Medium. It covers activity, sleep, and heart rate, but lacks Bellabeat-specific metrics like menstrual cycle tracking.
* **Currentness:** Low. Data is from 2016 and may not reflect current wearable tech trends.
* **Citations:** Properly cited via Kaggle/Mobius.

<div style="height:10px;"></div>

# The Process
To ensure a reproducible and scalable analysis, I am using **R** for data transformation and visualization.

<div style="height:3px;"></div>

#### About this notebook

This case study follows a transparent workflow. All code is shown so recruiters, reviewers, or collaborators can understand the decisions made at each stage of the analysis.

<div style="height:3px;"></div>

## Loading Libraries
I will begin by loading the `tidyverse` for data manipulation, `lubridate` for handling date-time objects, and `janitor` for data cleaning.

```{r, echo=TRUE}
library(tidyverse)
library(lubridate)
library(janitor) 

# The data sets that I will be using
activity <- read_csv("Case Study/Fitbase_Data_160412-160512/dailyActivity_merged.csv") %>% clean_names()
sleep <- read_csv("Case Study/Fitbase_Data_160412-160512/sleepDay_merged.csv") %>% clean_names()

```

<div style="height:10px;"></div>

## Data Cleaning and Transformation

<div style="height:3px;"></div>

### 1. Data inspection

For this part, I'll be using `glimpse`

```{r, echo=TRUE}
glimpse(activity)
glimpse(sleep)
```

### 2. Fixing date columns

```{r, echo=TRUE}
activity <- activity %>%
  mutate(activity_date = mdy(activity_date))

sleep <- sleep %>%
  mutate(sleep_day = as_date(mdy_hms(sleep_day)))
```

### 3. Merging two tables

```{r, echo=TRUE}
merged <- activity %>%
  inner_join(sleep, by = c("id", "activity_date" = "sleep_day"))
```
The merged dataset combines daily activity and sleep records per user per date, allowing a unified view of daily wellness behavior.

### 4. Checking if merge succeeded

```{r, echo=TRUE}
head(merged)
```

### 5. Checking and removing duplicates

```{r, echo=TRUE}
merged %>% get_dupes(id, activity_date)
```
```{r,echo=TRUE}
merged <- merged %>% distinct()
```

```{r, echo=TRUE}
merged %>% get_dupes(id, activity_date)
```

<div style="height:10px;"></div>

## Summary

```{r, echo=TRUE}
summary(merged)

merged %>%
  summarise(sd_light = sd(lightly_active_minutes, na.rm = TRUE))
```
<div style="height:10px;"></div>

<span style="font-size:18px; font-weight:bold;">Based on this summary, these are the insights I've gathered:</span>

<div style="height:5px;"></div>

**Daily Activity Insights**

<div style="height:1px;"></div>

* Users average &asymp; 8,500 steps, but 25% of days fall under 5,200 steps‚Äîshowing inconsistent movement habits. **Bellabeat can position Leaf as a tool for building daily consistency rather than chasing high step goals.**

<div style="height:1px;"></div>

* Users log a high amount of light activity with a _median_ of &asymp; 208 minutes (&asymp; 3.5 hours). However, there's a _standard deviation_ of 40%‚Äîindicating moderate variability. This suggests that users‚Äô movement habits fluctuate depending on schedule or lifestyle factors, indicating moderate inconsistency in light activity.

<div style="height:1px;"></div>

* _Moderate and intense activity are low_‚ÄîOnly 25% of days reach more than 27 minutes of moderate activity. **Bellabeat can target women who prefer low-impact routines, positioning Leaf as ideal for walking, household chores, and casual movement.**

<div style="height:1px;"></div>

* Users spend around _12 hours_ per day sedentary. **This presents a strong opportunity for Bellabeat to emphasize movement reminders, posture nudges, and inactivity alerts as key Leaf features.**

<div style="height:5px;"></div>

**Sleep insights**

<div style="height:1px;"></div>

* Most users sleep between _6‚Äì7.7 hours_, with about 25% of days falling below 6 hours. This shows inconsistency rather than strong sleep health. **Bellabeat can position Leaf as a wellness tool that helps users build regular sleep routines, track patterns, and reduce stress that affects sleep length.**

<div style="height:2px;"></div>

**Overall, users show moderate activity with high time spent sedentary and inconsistent sleep duration. Light activity dominates daily movement, suggesting lifestyle-driven wellness rather than workout-focused routines. These behavior patterns reveal opportunities for Bellabeat to support consistent movement and better sleep through targeted reminders and wellness-focused product messaging.**

<div style="height:10px;"></div>

# Analytical Questions

<div style="height:5px;"></div>

1. How does activity intensity relate to how long users sleep?

<div style="height:2px;"></div>

2. Are users consistent in their daily activity levels?

<div style="height:2px;"></div>

3. How often do users meet recommended sleep duration (7‚Äì9 hours)?

<div style="height:2px;"></div>

4. What movement patterns appear across the week?

<div style="height:5px;"></div>

## Activity-Sleep Correlation

```{r, echo=TRUE, warning=FALSE, message=FALSE}
# Correlation between type of activity and sleep
daily_activity_sleep <- merged %>%
  mutate(SleepHours = total_minutes_asleep / 60)

activity_sleep_long <- daily_activity_sleep %>%
  mutate(SleepHours = total_minutes_asleep / 60) %>%
  select(
    SleepHours,
    sedentary_minutes,
    lightly_active_minutes,
    fairly_active_minutes,
    very_active_minutes
  ) %>%
  pivot_longer(
    cols = -SleepHours,
    names_to = "activity_type",
    values_to = "minutes"
  )

ggplot(activity_sleep_long, aes(x = minutes, y = SleepHours)) +
  geom_point(alpha = 0.3, color = "#e5664a") +
  geom_smooth(method = "lm", se = FALSE, color = "#343434") +
  facet_wrap(~ activity_type, scales = "free_x") +
  labs(
    title = "Relationship Between Activity Intensity and Sleep Duration",
    subtitle = "Each panel shows how a type of activity relates to hours of sleep",
    x = "Minutes of Activity",
    y = "Hours of Sleep"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    axis.title = element_text(size = 10),
    axis.text = element_text(size = 9),
    strip.text = element_text(face = "bold"),

    # üëá THESE control the background
    panel.background = element_rect(fill = "#f6f3e8", color = NA),
    plot.background  = element_rect(fill = "#f6f3e8", color = NA),
    strip.background = element_rect(fill = "#f6f3e8", color = NA)
  )
```

Sleep is driven more by lifestyle balance and inactivity reduction than by exercise intensity.

<div style="height:10px;"></div>

## Consistency of Daily Behaviors

```{r, echo=TRUE, warning=FALSE, message=FALSE}
# Measuring Consistency using Standard Deviation
activity_stats <- merged %>%
  summarise(
    mean_steps = mean(total_steps, na.rm = TRUE),
    sd_steps = sd(total_steps, na.rm = TRUE),
    cv_steps = sd_steps / mean_steps,

    mean_light = mean(lightly_active_minutes, na.rm = TRUE),
    sd_light = sd(lightly_active_minutes, na.rm = TRUE),
    cv_light = sd_light / mean_light,

    mean_fair = mean(fairly_active_minutes, na.rm = TRUE),
    sd_fair = sd(fairly_active_minutes, na.rm = TRUE),
    cv_fair = sd_fair / mean_fair,

    mean_very = mean(very_active_minutes, na.rm = TRUE),
    sd_very = sd(very_active_minutes, na.rm = TRUE),
    cv_very = sd_very / mean_very,

    mean_sedentary = mean(sedentary_minutes, na.rm = TRUE),
    sd_sedentary = sd(sedentary_minutes, na.rm = TRUE),
    cv_sedentary = sd_sedentary / mean_sedentary
  ) %>%
  pivot_longer(
    cols = everything(),
    names_to = c("metric", "category"),
    names_sep = "_",
    values_to = "value"
  ) %>%
  pivot_wider(
    names_from = metric,
    values_from = value
  )

activity_stats
```

The coefficient of variation reveals that users are highly inconsistent in moderate and vigorous activity (CV = 1.25‚Äì1.44), indicating that structured exercise is not a regular habit. Light activity and steps show moderate variability, reflecting lifestyle-driven movement rather than planned workouts. Sedentary time is the most consistent behavior (CV = 0.23), suggesting prolonged inactivity is a stable part of users‚Äô daily routines.

**These patterns highlight a strong opportunity for Bellabeat to focus on small-movement encouragement, sedentary reduction, and holistic wellness rather than high-intensity fitness content.**

<div style="height:10px;"></div>

<span style="font-size:18px; font-weight:bold;">Bar chart of Coefficient of Variation (CV)</span>

```{r, echo=TRUE, warning=FALSE, message=FALSE}
ggplot(activity_stats, aes(x = category, y = cv)) +
  geom_col(fill = "#e5664a") +
  labs(
    title = "Consistency of Daily Behaviors",
    subtitle = "Higher values mean less consistent habits",
    x = "Activity Type",
    y = "Coefficient of Variation (CV)",
    color = "#343434"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold"),
    axis.text = element_text(size = 10),
    
     panel.background = element_rect(fill = "#f6f3e8", color = NA),
    plot.background  = element_rect(fill = "#f6f3e8", color = NA),
    strip.background = element_rect(fill = "#f6f3e8", color = NA)
  )
```


<div style="height:10px;"></div>

## Meeting the Recommended Sleep

```{r, echo=TRUE, warning=FALSE, message=FALSE}
# Percentage of users that meet the recommended sleep
merged %>% 
  summarise(
    pct_meet_sleep = mean(total_minutes_asleep >= 420 & total_minutes_asleep <= 540) * 100
  )
```

**A 46% sleep compliance rate suggests:**

<div style="height:5px;"></div>

* users struggle with regular routines

<div style="height:2px;"></div>

* sleep may be influenced by stress, work hours, or inconsistent lifestyle

<div style="height:2px;"></div>

* bedtime consistency is weak

<div style="height:2px;"></div>

* recovery habits are unstable

<div style="height:5px;"></div>

**Since recommended sleep is achieved less than half the time, Bellabeat can create campaigns around ‚Äúsmall steps toward better sleep,‚Äù highlighting micro-habits (earlier wind-down, reduced screen time) supported by the Leaf.**

<div style="height:10px;"></div>

<span style="font-size:18px; font-weight:bold;">How Often Users Meet Recommended Sleep</span>

```{r}
sleep_pct <- data.frame(
  status = c("Meets 7‚Äì9h Sleep", "Does Not Meet"),
  percent = c(46.34, 100 - 46.34)
)

ggplot(sleep_pct, aes(x = status, y = percent, fill = status)) +
  geom_col(width = 0.6) +
  coord_flip() +
  scale_y_continuous(labels = scales::percent_format(scale = 1)) +
  scale_fill_manual(values = c(
    "Meets 7‚Äì9h Sleep" = "#e5664a",
    "Does Not Meet"   = "#cbb8a6"
  )) +
  labs(
    title = "How Often Users Meet Recommended Sleep",
    x = "",
    y = "Percentage of Days"
  ) +
  theme_minimal() +
  theme(
    legend.position = "none",
    plot.background = element_rect(fill = "#f6f3e8", color = NA),
    panel.background = element_rect(fill = "#f6f3e8", color = NA),
    text = element_text(color = "#343434"),
    axis.text = element_text(color = "#343434"),
    axis.title = element_text(color = "#343434"),
    plot.title = element_text(face = "bold")
  )

```


<div style="height:10px;"></div>

## Patterns of Activities

```{r, echo=TRUE}
# Activity patterns across weeks
merged <- merged %>%
  mutate(weekday = wday(activity_date, label = TRUE, abbr = TRUE))

weekday_activity <- merged %>%
  group_by(weekday) %>%
  summarise(
    avg_steps = mean(total_steps, na.rm = TRUE),
    avg_sedentary = mean(sedentary_minutes, na.rm = TRUE),
    avg_light = mean(lightly_active_minutes, na.rm = TRUE),
    avg_fair = mean(fairly_active_minutes, na.rm = TRUE),
    avg_very = mean(very_active_minutes, na.rm = TRUE)
  )
```

<div style="height:10px;"></div>

<span style="font-size:18px; font-weight:bold;">Bar chart of Average Daily Steps</span>

```{r, echo=TRUE}
ggplot(weekday_activity, aes(x = weekday, y = avg_steps)) +
  geom_col(fill = "#e5664a", width = 0.7) +
  labs(
    title = "Average Daily Steps",
    subtitle = "User activity peaks on weekends and early in the workweek",
    x = "Day of the Week",
    y = "Average Steps"
  ) +
  theme_minimal() +
  theme(
    plot.background = element_rect(fill = "#f6f3e8", color = NA),
    panel.background = element_rect(fill = "#f6f3e8", color = NA),
    panel.grid.major = element_line(color = "#e0ddd4"),
    panel.grid.minor = element_blank(),

    plot.title = element_text(
      face = "bold",
      size = 14,
      color = "#343434"
    ),
    plot.subtitle = element_text(
      size = 10,
      color = "#343434"
    ),
    axis.title = element_text(size = 10, color = "#343434"),
    axis.text = element_text(size = 9, color = "#343434")
  )

```

<div style="height:10px;"></div>

Users are _most active_ on weekends, with Saturday showing the highest step count of the week. Activity remains high at the start of the workweek (Mon‚ÄìTue), then gradually declines before reaching the lowest point on Sunday. This indicates that user movement is driven by weekend routines and early-week motivation.

**Bellabeat can leverage this pattern by pushing weekend wellness content, Monday goal-setting, and Sunday recovery prompts.**

<div style="height:10px;"></div>

# Extended Analysis Through Visualizations

```{r, warning=FALSE, echo=TRUE}
# Histogram
ggplot(merged, aes(x = total_minutes_asleep / 60)) +
  geom_histogram(
    binwidth = 0.5,
    fill = "#e5664a",
    color = "#f6f3e8"
  ) +
  scale_x_continuous(
    limits = c(3, 10),
    breaks = seq(3, 10, by = 1),
    expand = c(0.01, 0)
  ) +
  labs(
    title = "Distribution of Sleep Duration",
    x = "Hours Asleep",
    y = "Frequency"
  ) +
  theme_minimal() +
  theme(
    plot.background  = element_rect(fill = "#f6f3e8", color = NA),
    panel.background = element_rect(fill = "#f6f3e8", color = NA),

    plot.title = element_text(
      face = "bold",
      size = 14,
      color = "#343434"
    ),
    axis.title = element_text(
      size = 10,
      color = "#343434"
    ),
    axis.text = element_text(
      size = 10,
      color = "#343434"
    ),

    panel.grid.major = element_line(color = "#e0ddd5"),
    panel.grid.minor = element_blank()
  )

```

* This suggests average sleep health is okay but not optimal‚Äîusers get close to the recommended range, but not consistently.

<div style="height:2px;"></div>

* There is a clear left tail around 3.5‚Äì5.5 hours, meaning: Some users frequently experience short sleep durations

<div style="height:10px;"></div>

```{r,echo=TRUE}
# Preparing data
intensity_breakdown <- merged %>%
  select(lightly_active_minutes, fairly_active_minutes, very_active_minutes) %>%
  summarise(
    light = mean(lightly_active_minutes, na.rm = TRUE),
    fair = mean(fairly_active_minutes, na.rm = TRUE),
    very = mean(very_active_minutes, na.rm = TRUE)
  ) %>%
  pivot_longer(cols = everything(), names_to = "intensity", values_to = "minutes")

```

```{r, echo=TRUE}
# Bar Graph
ggplot(intensity_breakdown, aes(x = intensity, y = minutes)) +
  geom_col(fill = "#e5664a", width = 0.7) +
  labs(
    title = "Average Daily Activity Intensity Breakdown",
    x = "Intensity Level",
    y = "Average Minutes"
  ) +
  theme_minimal() +
  theme(
    plot.background  = element_rect(fill = "#f6f3e8", color = NA),
    panel.background = element_rect(fill = "#f6f3e8", color = NA),

    plot.title = element_text(
      face = "bold",
      size = 14,
      color = "#343434"
    ),
    axis.title = element_text(
      size = 10,
      color = "#343434"
    ),
    axis.text = element_text(
      size = 10,
      color = "#343434"
    ),

    panel.grid.major = element_line(color = "#e0ddd5"),
    panel.grid.minor = element_blank()
  )


```

* This confirms that users prefer low-effort, lifestyle-based movement

<div style="height:2px;"></div>

* Users are not engaging in regular, structured moderate exercise.

<div style="height:10px;"></div>

# Recommendations for Bellabeat

<div style="height:2px;"></div>

**1. Promote Consistency Over High Performance:** Users are inconsistent with steps and light activity.Bellabeat can position Leaf as a daily habit-builder.

<div style="height:2px;"></div>

**2. Introduce Sedentary Interrupt Features:** Users sit ‚âà 12 hours/day.Promote posture alerts, stretch reminders, ‚Äústand and reset‚Äù nudges.

<div style="height:2px;"></div>

**3. Support Sleep Routine Stabilization:** Sleep compliance is only 46%. Create a ‚ÄúLeaf Sleep Guide‚Äù: bedtime reminders, screen-time reduction cues.

<div style="height:2px;"></div>

**4. Design Weekend + Monday Motivation Campaigns:** Steps peak on Saturday and Monday. Use these days to push challenges, streaks, and motivational prompts.

<div style="height:2px;"></div>

**5. Highlight Low-Impact Wellness:** Most users do NOT engage in moderate or intense exercise. Bellabeat should emphasize walking, light movement, and lifestyle activity.

<div style="height:5px;"></div>

**Cons**

<div style="height:2px;"></div>

* Fitbit users may not represent Bellabeat‚Äôs core audience

<div style="height:2px;"></div>

* The sample size is small and self-selected

<div style="height:2px;"></div>

* The data is old (2016)

<div style="height:2px;"></div>

* We can see correlation, not causation

<div style="height:10px;"></div>

# Conclusion

The data suggests Bellabeat‚Äôs biggest opportunity is not intense workouts, but helping users reduce prolonged sitting, build light daily movement, and improve sleep consistency ‚Äî especially with only 46% of days meeting sleep goals.

However, these findings are based on limited and short-term data, and don‚Äôt capture factors like stress, work schedules, or long-term habit changes.
To make stronger product decisions, Bellabeat should collect deeper, longer-term behavioral data and explore why users struggle with sleep and consistency ‚Äî not just how often.

This creates a clear next step: use Leaf not just to track behavior, but to learn what truly drives it.
